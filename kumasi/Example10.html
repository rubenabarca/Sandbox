<DOCTYPE html>
    <html>
    
    <head>
        <link rel="stylesheet" href="main.css">
        <title>Practicing </title>
        <script src="processing.min.js"></script>
        <script src="index.js"></script>
    </head>

    <body>
    
        <script type="application/processing">
        const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
        const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
        const vgafix=loadFont("C:\Windows\Fonts\vgafix.fon");
        const set1=[];
        const set2=[];
        var set3=[];
        const set4=[];
        var tiles=[];
        void setup(){
            size(vw, vh);
            backgroundShade = random(255);
            textFont(vgafix,64);
            for (var s=0;s<25; s++){
                set1.push(s);
                set2.push(s);
            }


            while(set1.length>0){
                var set1Length=set1.length;
                var randomIndex=Math.trunc(random(set1Length));
                set3.push(set1.slice(randomIndex,randomIndex+1)[0]);
                set1.splice(randomIndex,1);
            }

            while(set2.length>0){
                var set2Length=set2.length;
                var randomIndex=Math.trunc(random(set2Length));
                set4.push(set2.slice(randomIndex,randomIndex+1)[0]);
                set2.splice(randomIndex,1);
            }
            set3=set3.concat(set4);
            console.log(set3);
            var columnCount=10;
            var rowCount=5;
            var tileWidth=Math.trunc (vw/columnCount)-10;
            var tileHeight= Math.trunc (vh/rowCount)-10;
            
            var index=0;
            for (var i=0; i<columnCount; i++){
                for (var j=0;j<rowCount; j++){
                    fill (200,200,200);
                    rect (i*tileWidth,j*tileHeight,tileWidth,tileHeight); 
                    var tile={
                        index:index,
                        tileWidth:tileWidth,
                        tileHeight:tileHeight,
                        answer: set3[index],
                        x:i*tileWidth,
                        y:j*tileHeight,
                        x1:i*tileWidth+tileWidth,
                        y1:j*tileHeight+tileHeight,
                        selected: false,

                    };
                    index=index+1;
                    tiles.push(tile);
                }

            } 
            console.log(tiles);
        }
    
        var R= random (0,255);
        var G= random (0,255);
        var B= random (0,255);
        var WINNER= Math.trunc(random (1,5));
        var MARCADOR=0;
        var GameNumber=0;
        var AlreadyPlayed=false;
        var GameCompleted=false;



        void draw(){
            background(64);
            if (GameCompleted) return;
            var mitadAncho=vw/2;
            var mitadAlto=vh/2;
            var Ancho=vw;
            var Alto=vh;
            if (GameNumber>=10){
                GameCompleted=true;
                console.log("Su marcador final es:"+MARCADOR);
            }else{
                
                for (const i=0; i<tiles.length; i++){
                    const tile=tiles[i];
                    fill(200,200,200);
                    rect (tile.x,tile.y,tile.tileWidth,tile.tileHeight);
                    if (tile.selected){
                        fill(0,0,0);
                        const answer= tile.answer<10 ? "0" +tile.answer : tile.answer;
                        text(answer,tile.x+10,tile.y+94);
                    } 
                }

                if (mousePressed){
                    for (const i=0; i<tiles.length; i++){
                        const tile=tiles[i];
                        if (mouseX>tile.x && mouseX<tile.x1 && mouseY>tile.y && mouseY<tile.y1){
                           tile.selected=true;
                        }
                    }
                    if (!AlreadyPlayed){
                        var WinnerLabel="";
    
                        switch(WINNER){
                            case 1:
                                if(isInsideAreaA(mitadAncho,mitadAlto,mouseX,mouseY)){
                                    MARCADOR=MARCADOR+1;
                                }
                                WinnerLabel="Cuadrante A";
                            break;
                            case 2:
                                if(isInsideAreaB(mitadAncho,mitadAlto,mouseX,mouseY)){
                                    MARCADOR=MARCADOR+1;
                                }
                                WinnerLabel="Cuadrante B";
                            break;
                            case 3:
                                if(isInsideAreaC(mitadAncho,mitadAlto,mouseX,mouseY)){
                                    MARCADOR=MARCADOR+1;
                                }
                                WinnerLabel="Cuadrante C";
                            break;
                            case 4:
                                if(isInsideAreaD(mitadAncho,mitadAlto,mouseX,mouseY)){
                                    MARCADOR=MARCADOR+1;
                                }
                                WinnerLabel="Cuadrante D";
                            break;
                        
                        }
                        AlreadyPlayed=true;
                        console.log("El cuadrante ganador es:"+WinnerLabel);
                        console.log("MARCADOR: "+MARCADOR);
                        console.log("NÚMERO DE JUEGO: "+GameNumber);
                        WINNER= Math.trunc(random (1,5));
                    }
                } else{
                    if(AlreadyPlayed){
                        GameNumber=GameNumber+1;
                        AlreadyPlayed=false;
                    }
                }
            }

 
        }
    
       
        //Si mouseX es menor a mitadAncho y mouseY es menor a mitadAlto la posición del mouse es en el Cuadrante A
        function isInsideAreaA(ancho,alto,x,y){
            if(x<ancho && y<alto){
                return true;
            } else{
                return false;
            }

        }

        //Si mouseX es mayor a mitadAncho y mouseY es menor a mitadAlto la posición del mouse es en el Cuadrante B
        function isInsideAreaB(ancho,alto,x,y){
            if(x>ancho && y<alto){
                return true;
            } else{
                return false;
            }

        }

        //Si mouseX es menor a mitadAncho y mouseY es mayor a mitadAlto la posición del mouse es en el Cuadrante C
        function isInsideAreaC(ancho,alto,x,y){
            if(x<ancho && y>alto){
                return true;
            } else{
                return false;
            }

        }

        //Si mouseX es mayor a mitadAncho y mouseY es mayor a mitadAlto la posición del mouse es en el Cuadrante D
        function isInsideAreaD(ancho,alto,x,y){
            if(x>ancho && y>alto){
                return true;
            } else{
                return false;
            }

        }



     </script>
        <canvas id="sketch"> </canvas>
        
    </body>
    
    </html>